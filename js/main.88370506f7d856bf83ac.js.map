{"version":3,"file":"js/main.88370506f7d856bf83ac.js","mappings":"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","sources":["webpack://chepin-master2/./src/js/modules/analytics.js","webpack://chepin-master2/./src/js/direct-footer-loader.js","webpack://chepin-master2/./src/js/mobile-menu.js","webpack://chepin-master2/./src/js/simple-slider.js","webpack://chepin-master2/webpack/bootstrap","webpack://chepin-master2/./src/js/config.js","webpack://chepin-master2/./src/js/modules/slider.js","webpack://chepin-master2/./src/js/modules/navigation.js","webpack://chepin-master2/./src/js/modules/animations.js","webpack://chepin-master2/./src/js/modules/portfolio.js","webpack://chepin-master2/./src/js/modules/forms.js","webpack://chepin-master2/./src/js/modules/performance.js","webpack://chepin-master2/./src/js/modules/photo-viewer.js","webpack://chepin-master2/./src/js/modules/components.js","webpack://chepin-master2/./src/js/modules/portfolio-filter.js","webpack://chepin-master2/./src/js/modules/modern-lightbox.js","webpack://chepin-master2/./src/js/modules/portfolio-integration.js","webpack://chepin-master2/./src/js/modules/scroll-animations.js","webpack://chepin-master2/./src/js/modules/enhanced-forms.js","webpack://chepin-master2/./src/js/modules/progressive-images.js","webpack://chepin-master2/./src/js/modules/faq-accordion.js","webpack://chepin-master2/./src/js/modules/testimonial-slider.js","webpack://chepin-master2/./src/js/app.js"],"sourcesContent":["/**\n * Модуль для работы с аналитикой (Яндекс.Метрика, Google Analytics)\n */\nclass Analytics {\n  constructor() {\n    this.config = {\n      enabled: false,\n      yandexMetrikaId: null,\n      googleAnalyticsId: null,\n      debug: false\n    };\n    \n    this.isLocalhost = this.checkLocalhost();\n  }\n\n  /**\n   * Проверка на localhost\n   */\n  checkLocalhost() {\n    const hostname = window.location.hostname;\n    const port = window.location.port;\n    \n    return hostname === 'localhost' || \n           hostname === '127.0.0.1' || \n           hostname.includes('192.168') ||\n           port === '3000' ||\n           hostname.includes('.local');\n  }\n\n  /**\n   * Инициализация всех счетчиков\n   */\n  init(config = {}) {\n    this.config = { ...this.config, ...config };\n    \n    // Отключаем аналитику на localhost\n    if (this.isLocalhost) {\n      console.log('🔧 Analytics disabled for localhost environment');\n      this.config.enabled = false;\n      this.config.debug = true;\n    }\n    \n    if (!this.config.enabled) {\n      this.initDebugMode();\n      return;\n    }\n    \n    if (this.config.yandexMetrikaId) {\n      this.initYandexMetrika();\n    }\n    \n    if (this.config.googleAnalyticsId) {\n      this.initGoogleAnalytics();\n    }\n    \n    this.initCustomEvents();\n    \n    if (this.config.debug) {\n      console.log('📊 Analytics initialized:', this.config);\n    }\n  }\n\n  /**\n   * Режим отладки для разработки\n   */\n  initDebugMode() {\n    console.log('🔍 Analytics Debug Mode Enabled');\n    this.initCustomEvents();\n  }\n\n  /**\n   * Инициализация Яндекс.Метрики\n   */\n  initYandexMetrika() {\n    const id = this.config.yandexMetrikaId;\n    \n    if (this.isLocalhost) {\n      console.log('⚠️ Yandex.Metrika skipped for localhost');\n      return;\n    }\n    \n    // Создаем глобальную функцию для метрики\n    window.ym = window.ym || function() {\n      (window.ym.a = window.ym.a || []).push(arguments);\n    };\n    window.ym.l = Date.now();\n\n    // Загружаем скрипт метрики\n    const script = document.createElement('script');\n    script.async = true;\n    script.src = 'https://mc.yandex.ru/metrika/tag.js';\n    document.head.appendChild(script);\n\n    // Инициализируем счетчик\n    script.onload = () => {\n      try {\n        window.ym(id, 'init', {\n          clickmap: true,\n          trackLinks: true,\n          accurateTrackBounce: true,\n          webvisor: true,\n          trackHash: true,\n          ecommerce: \"dataLayer\"\n        });\n        \n        console.log('✅ Yandex.Metrika initialized with ID:', id);\n      } catch (e) {\n        console.error('❌ Yandex.Metrika initialization error:', e);\n      }\n    };\n\n    // Добавляем noscript тег\n    const noscript = document.createElement('noscript');\n    noscript.innerHTML = `<div><img src=\"https://mc.yandex.ru/watch/${id}\" style=\"position:absolute; left:-9999px;\" alt=\"\" /></div>`;\n    document.body.appendChild(noscript);\n  }\n\n  /**\n   * Инициализация Google Analytics\n   */\n  initGoogleAnalytics() {\n    const id = this.config.googleAnalyticsId;\n    \n    if (this.isLocalhost) {\n      console.log('⚠️ Google Analytics skipped for localhost');\n      return;\n    }\n    \n    // Загружаем gtag\n    const script1 = document.createElement('script');\n    script1.async = true;\n    script1.src = `https://www.googletagmanager.com/gtag/js?id=${id}`;\n    document.head.appendChild(script1);\n\n    // Инициализируем gtag\n    window.dataLayer = window.dataLayer || [];\n    function gtag() { dataLayer.push(arguments); }\n    window.gtag = gtag;\n    gtag('js', new Date());\n    gtag('config', id, {\n      page_title: document.title,\n      page_location: window.location.href\n    });\n    \n    console.log('✅ Google Analytics initialized with ID:', id);\n  }\n\n  /**\n   * Инициализация кастомных событий\n   */\n  initCustomEvents() {\n    // Отслеживание кликов по кнопкам\n    this.trackButtons();\n    \n    // Отслеживание просмотра галерей\n    this.trackGalleryViews();\n    \n    // Отслеживание контактных форм\n    this.trackContactForms();\n    \n    // Отслеживание времени на странице\n    this.trackTimeOnPage();\n  }\n\n  /**\n   * Отслеживание кликов по кнопкам\n   */\n  trackButtons() {\n    document.addEventListener('click', (e) => {\n      const button = e.target.closest('.btn, .button, [role=\"button\"]');\n      if (button) {\n        const buttonText = button.textContent.trim();\n        const buttonClass = button.className;\n        \n        this.trackEvent('button_click', {\n          button_text: buttonText,\n          button_class: buttonClass,\n          page_url: window.location.href\n        });\n      }\n    });\n  }\n\n  /**\n   * Отслеживание просмотров галерей\n   */\n  trackGalleryViews() {\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        mutation.addedNodes.forEach((node) => {\n          if (node.nodeType === 1 && node.matches && node.matches('.photo-gallery__item')) {\n            const galleryName = this.getGalleryName();\n            this.trackEvent('gallery_view', {\n              gallery_name: galleryName,\n              page_url: window.location.href\n            });\n          }\n        });\n      });\n    });\n\n    const galleryContainer = document.querySelector('.photo-gallery__grid');\n    if (galleryContainer) {\n      observer.observe(galleryContainer, { childList: true, subtree: true });\n    }\n  }\n\n  /**\n   * Отслеживание контактных форм\n   */\n  trackContactForms() {\n    document.addEventListener('submit', (e) => {\n      const form = e.target;\n      if (form.matches && form.matches('form')) {\n        this.trackEvent('form_submit', {\n          form_name: form.name || 'contact_form',\n          page_url: window.location.href\n        });\n      }\n    });\n  }\n\n  /**\n   * Отслеживание времени на странице\n   */\n  trackTimeOnPage() {\n    let startTime = Date.now();\n    let isActive = true;\n\n    const events = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart'];\n    events.forEach(event => {\n      document.addEventListener(event, () => {\n        isActive = true;\n      }, { passive: true });\n    });\n\n    window.addEventListener('beforeunload', () => {\n      if (isActive) {\n        const timeOnPage = Math.round((Date.now() - startTime) / 1000);\n        this.trackEvent('time_on_page', {\n          duration: timeOnPage,\n          page_url: window.location.href\n        });\n      }\n    });\n\n    setInterval(() => {\n      if (isActive) {\n        isActive = false;\n        const timeOnPage = Math.round((Date.now() - startTime) / 1000);\n        this.trackEvent('page_engagement', {\n          duration: timeOnPage,\n          page_url: window.location.href\n        });\n      }\n    }, 30000);\n  }\n\n  /**\n   * Отправка кастомного события\n   */\n  trackEvent(eventName, parameters = {}) {\n    if (!this.config.enabled) {\n      if (this.config.debug) {\n        console.log(`📈 [Debug] Event: ${eventName}`, parameters);\n      }\n      return;\n    }\n\n    // Яндекс.Метрика\n    if (this.config.yandexMetrikaId && window.ym) {\n      try {\n        window.ym(this.config.yandexMetrikaId, 'reachGoal', eventName, parameters);\n      } catch (e) {\n        console.error('Yandex.Metrika track error:', e);\n      }\n    }\n\n    // Google Analytics\n    if (this.config.googleAnalyticsId && window.gtag) {\n      try {\n        window.gtag('event', eventName, parameters);\n      } catch (e) {\n        console.error('Google Analytics track error:', e);\n      }\n    }\n\n    if (this.config.debug) {\n      console.log('📊 Analytics Event:', eventName, parameters);\n    }\n  }\n\n  /**\n   * Получение имени галереи с текущей страницы\n   */\n  getGalleryName() {\n    const title = document.querySelector('h1');\n    if (title) {\n      return title.textContent.trim();\n    }\n    \n    const albumId = document.querySelector('[data-album-id]');\n    if (albumId) {\n      return albumId.getAttribute('data-album-id');\n    }\n    \n    return 'unknown_gallery';\n  }\n\n  /**\n   * Отслеживание просмотра изображения в галерее\n   */\n  trackImageView(imageName, galleryName) {\n    this.trackEvent('image_view', {\n      image_name: imageName,\n      gallery_name: galleryName,\n      page_url: window.location.href\n    });\n  }\n\n  /**\n   * Отслеживание клика по телефону/email\n   */\n  trackContact(contactType, contactValue) {\n    this.trackEvent('contact_click', {\n      contact_type: contactType,\n      contact_value: contactValue,\n      page_url: window.location.href\n    });\n  }\n}\n\n// Создаем глобальный экземпляр\nwindow.Analytics = new Analytics();\n","/**\n * Простой и прямой загрузчик футера без сложной логики\n */\n\nconsole.log('🚀 Загружается direct-footer-loader.js');\n\n// Простая функция для открытия модального окна\nfunction openModal(modalId) {\n    console.log('🔓 Пытаемся открыть модальное окно:', modalId);\n    \n    // Дополнительная диагностика\n    const allModals = document.querySelectorAll('.legal-modal');\n    console.log(`🔍 Всего модальных окон с классом .legal-modal: ${allModals.length}`);\n    allModals.forEach((modal, i) => {\n        console.log(`  ${i+1}. ID: ${modal.id}, display: ${modal.style.display || 'не задан'}`);\n    });\n    \n    const modal = document.getElementById(modalId);\n    if (modal) {\n        console.log('✅ Модальное окно найдено:', modalId);\n        modal.style.display = 'block';\n        modal.classList.add('show');\n        document.body.style.overflow = 'hidden';\n        \n        const body = modal.querySelector('.legal-modal__body');\n        if (body) body.scrollTop = 0;\n        \n        console.log('✅ Модальное окно открыто');\n    } else {\n        console.error('❌ Модальное окно не найдено:', modalId);\n        \n        // Дополнительная диагностика\n        console.log('🔍 Поиск по всем элементам с ID:');\n        const allElements = document.querySelectorAll('[id]');\n        const relevantElements = Array.from(allElements).filter(el => \n            el.id.includes('modal') || el.id.includes('rights')\n        );\n        relevantElements.forEach(el => {\n            console.log(`  Найден элемент: ${el.id} (${el.tagName})`);\n        });\n    }\n}\n\n// Простая функция для закрытия модального окна\nfunction closeModal(modalId) {\n    console.log('🔒 Закрываем модальное окно:', modalId);\n    const modal = document.getElementById(modalId);\n    if (modal) {\n        modal.style.display = 'none';\n        modal.classList.remove('show');\n        document.body.style.overflow = 'auto';\n        console.log('✅ Модальное окно закрыто');\n    }\n}\n\n// Добавляем функции в глобальный объект\nwindow.openModal = openModal;\nwindow.closeModal = closeModal;\n\n// Функция для настройки обработчиков\nfunction setupModals() {\n    console.log('⚙️ Настройка модальных окон...');\n    \n    // Проверяем наличие всех элементов футера\n    const footerElement = document.querySelector('footer');\n    const footerPlaceholder = document.getElementById('footer-placeholder');\n    \n    console.log('🔍 Проверка элементов футера:');\n    console.log('  footer элемент:', footerElement ? 'найден' : 'не найден');\n    console.log('  footer-placeholder:', footerPlaceholder ? 'найден' : 'не найден');\n    \n    if (footerPlaceholder) {\n        console.log('  Содержимое placeholder:', footerPlaceholder.innerHTML.length, 'символов');\n    }\n    \n    // Ссылки для открытия\n    const links = {\n        'privacy-link': 'privacy-modal',\n        'terms-link': 'terms-modal', \n        'rights-link': 'rights-modal'\n    };\n    \n    console.log('🔗 Проверка ссылок и модальных окон:');\n    \n    // Дополнительная диагностика DOM\n    const allModals = document.querySelectorAll('.legal-modal');\n    const allElementsWithModal = document.querySelectorAll('[id*=\"modal\"]');\n    \n    console.log(`🔍 Диагностика DOM:`);\n    console.log(`  Элементов с классом .legal-modal: ${allModals.length}`);\n    console.log(`  Элементов с \"modal\" в ID: ${allElementsWithModal.length}`);\n    \n    allModals.forEach((modal, i) => {\n        console.log(`    ${i+1}. Модальное окно: ${modal.id} (класс: ${modal.className})`);\n    });\n    \n    allElementsWithModal.forEach((element, i) => {\n        if (!element.classList.contains('legal-modal')) {\n            console.log(`    Другой элемент с modal: ${element.id} (${element.tagName})`);\n        }\n    });\n    \n    Object.entries(links).forEach(([linkId, modalId]) => {\n        const link = document.getElementById(linkId);\n        const modal = document.getElementById(modalId);\n        \n        console.log(`  ${linkId}: ${link ? '✅ найден' : '❌ не найден'}`);\n        console.log(`  ${modalId}: ${modal ? '✅ найден' : '❌ не найден'}`);\n        \n        if (link && modal) {\n            console.log(`✅ Настраиваем ${linkId} -> ${modalId}`);\n            link.addEventListener('click', function(e) {\n                e.preventDefault();\n                console.log(`🖱️ Клик по ${linkId}`);\n                openModal(modalId);\n                return false;\n            });\n        } else {\n            if (!link) console.error(`❌ Ссылка не найдена: ${linkId}`);\n            if (!modal) console.error(`❌ Модальное окно не найдено: ${modalId}`);\n        }\n    });\n    \n    // Кнопки закрытия\n    const closeButtons = document.querySelectorAll('.legal-modal__close');\n    console.log(`🔘 Найдено кнопок закрытия: ${closeButtons.length}`);\n    \n    closeButtons.forEach(button => {\n        button.addEventListener('click', function() {\n            const modal = this.closest('.legal-modal');\n            if (modal) {\n                closeModal(modal.id);\n            }\n        });\n    });\n    \n    // Закрытие по клику на фон\n    document.addEventListener('click', function(event) {\n        if (event.target.classList.contains('legal-modal')) {\n            closeModal(event.target.id);\n        }\n    });\n    \n    // Закрытие по Escape\n    document.addEventListener('keydown', function(event) {\n        if (event.key === 'Escape') {\n            const openModals = document.querySelectorAll('.legal-modal.show');\n            openModals.forEach(modal => closeModal(modal.id));\n        }\n    });\n    \n    console.log('✅ Модальные окна настроены');\n}\n\n// Загрузка футера\nasync function loadFooter() {\n    try {\n        console.log('📥 Загружаем футер...');\n        \n        // Определяем путь к футеру\n        const currentPath = window.location.pathname;\n        let footerPath = 'parts/_footer.html';\n        \n        if (currentPath.includes('/pages/')) {\n            footerPath = '../../parts/_footer.html';\n        } else if (currentPath.includes('/gallery/')) {\n            footerPath = '../../../parts/_footer.html';\n        }\n        \n        console.log('📂 Путь к футеру:', footerPath);\n        \n        const response = await fetch(footerPath);\n        if (!response.ok) {\n            throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n        }\n        \n        const footerHTML = await response.text();\n        console.log('📄 Футер загружен, размер:', footerHTML.length, 'символов');\n        \n        const placeholder = document.getElementById('footer-placeholder');\n        if (!placeholder) {\n            console.error('❌ Не найден footer-placeholder');\n            return;\n        }\n        \n        placeholder.innerHTML = footerHTML;\n        console.log('✅ Футер вставлен в DOM');\n        \n        // Дополнительная проверка содержимого\n        console.log('🔍 Проверка содержимого футера:');\n        console.log('  Содержит \"rights-modal\":', footerHTML.includes('rights-modal'));\n        console.log('  Содержит \"privacy-modal\":', footerHTML.includes('privacy-modal'));\n        console.log('  Содержит \"terms-modal\":', footerHTML.includes('terms-modal'));\n        console.log('  Длина HTML:', footerHTML.length);\n        \n        // Проверка после вставки в DOM\n        setTimeout(() => {\n            const rightsModalInDOM = document.getElementById('rights-modal');\n            console.log('🔍 rights-modal в DOM через 50мс:', rightsModalInDOM ? 'найден' : 'НЕ НАЙДЕН');\n            if (rightsModalInDOM) {\n                console.log('  Класс:', rightsModalInDOM.className);\n                console.log('  Родитель:', rightsModalInDOM.parentElement?.tagName);\n            }\n        }, 50);\n        \n        // Настройка модальных окон с несколькими попытками\n        let attempts = 0;\n        const maxAttempts = 5;\n        \n        function trySetupModals() {\n            attempts++;\n            console.log(`🔧 Попытка настройки модальных окон ${attempts}/${maxAttempts}...`);\n            \n            const termsModal = document.getElementById('terms-modal');\n            const privacyModal = document.getElementById('privacy-modal');\n            const rightsModal = document.getElementById('rights-modal');\n            \n            console.log('📊 Состояние модальных окон:');\n            console.log(`  terms-modal: ${termsModal ? 'найден' : 'НЕ НАЙДЕН'}`);\n            console.log(`  privacy-modal: ${privacyModal ? 'найден' : 'НЕ НАЙДЕН'}`);\n            console.log(`  rights-modal: ${rightsModal ? 'найден' : 'НЕ НАЙДЕН'}`);\n            \n            // Если все модальные окна найдены, настраиваем их\n            if (termsModal && privacyModal && rightsModal) {\n                console.log('✅ Все модальные окна найдены, настраиваем обработчики...');\n                setupModals();\n                return;\n            }\n            \n            // Если не все найдены и есть ещё попытки, пробуем снова\n            if (attempts < maxAttempts) {\n                console.log(`⏳ Не все модальные окна найдены, повторная попытка через ${200 * attempts}мс...`);\n                setTimeout(trySetupModals, 200 * attempts);\n            } else {\n                console.error('❌ Не удалось найти все модальные окна после максимального количества попыток');\n                \n                // Всё равно пытаемся настроить то, что есть\n                console.log('🔧 Настраиваем найденные модальные окна...');\n                setupModals();\n            }\n        }\n        \n        // Начинаем попытки настройки\n        setTimeout(trySetupModals, 100);\n        \n    } catch (error) {\n        console.error('❌ Ошибка загрузки футера:', error);\n    }\n}\n\n// Инициализация при загрузке DOM\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', loadFooter);\n} else {\n    loadFooter();\n}\n\nconsole.log('📋 direct-footer-loader.js готов');\n","/**\n * Универсальный модуль для работы мобильного меню\n * Работает на всех страницах сайта\n */\n\nclass MobileMenu {\n    constructor() {\n        console.log('🍔 Инициализация мобильного меню...');\n        \n        this.burger = document.querySelector('.header__burger');\n        this.mobileMenu = document.querySelector('.header__mobile-menu');\n        this.body = document.body;\n        this.isOpen = false;\n\n        console.log('🍔 Найден бургер:', !!this.burger);\n        console.log('🍔 Найдено мобильное меню:', !!this.mobileMenu);\n\n        this.init();\n    }\n\n    init() {\n        if (!this.burger || !this.mobileMenu) {\n            console.warn('🍔 Mobile menu elements not found');\n            return;\n        }\n\n        console.log('🍔 Подключение обработчиков...');\n        \n        this.burger.addEventListener('click', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            console.log('🍔 Клик по бургеру');\n            this.toggle();\n        });\n        \n        // Закрытие по клику на ссылку\n        const links = this.mobileMenu.querySelectorAll('.header__mobile-nav-link');\n        console.log('🍔 Найдено ссылок в меню:', links.length);\n        \n        links.forEach(link => {\n            link.addEventListener('click', () => {\n                console.log('🍔 Клик по ссылке в меню');\n                this.close();\n            });\n        });\n\n        // Закрытие по ESC\n        document.addEventListener('keydown', (e) => {\n            if (e.key === 'Escape' && this.isOpen) {\n                console.log('🍔 Закрытие по ESC');\n                this.close();\n            }\n        });\n\n        // Закрытие при клике вне меню\n        document.addEventListener('click', (e) => {\n            if (this.isOpen && !e.target.closest('.header')) {\n                console.log('🍔 Закрытие по клику вне меню');\n                this.close();\n            }\n        });\n\n        // Закрытие при изменении размера окна\n        window.addEventListener('resize', () => {\n            if (window.innerWidth > 768 && this.isOpen) {\n                console.log('🍔 Закрытие при изменении размера окна');\n                this.close();\n            }\n        });\n        \n        console.log('🍔 Мобильное меню готово к работе!');\n    }\n\n    toggle() {\n        console.log('🍔 Toggle вызван, состояние:', this.isOpen);\n        if (this.isOpen) {\n            this.close();\n        } else {\n            this.open();\n        }\n    }\n\n    open() {\n        console.log('🍔 Открытие меню...');\n        // Используем правильные классы, которые ожидает CSS\n        this.burger.classList.add('header__burger--active');\n        this.mobileMenu.classList.add('header__mobile-menu--active');\n        this.body.classList.add('menu-open'); // Изменили класс для блокировки прокрутки\n        this.burger.setAttribute('aria-expanded', 'true');\n        this.isOpen = true;\n        console.log('🍔 Меню открыто!');\n    }\n\n    close() {\n        console.log('🍔 Закрытие меню...');\n        this.burger.classList.remove('header__burger--active');\n        this.mobileMenu.classList.remove('header__mobile-menu--active');\n        this.body.classList.remove('menu-open');\n        this.burger.setAttribute('aria-expanded', 'false');\n        this.isOpen = false;\n        console.log('🍔 Меню закрыто!');\n    }\n}\n\n// Инициализация при загрузке DOM\ndocument.addEventListener('DOMContentLoaded', () => {\n    console.log('🍔 DOM загружен, инициализируем мобильное меню...');\n    new MobileMenu();\n});\n","/**\n * Простая версия слайдера для отладки\n * Без использования модулей ES6\n */\n\n(function() {\n    'use strict';\n    \n    // Ждем загрузки DOM\n    document.addEventListener('DOMContentLoaded', function() {\n        initSlider();\n    });\n    \n    function initSlider() {\n        const slider = document.querySelector('.slider');\n        if (!slider) {\n            return;\n        }\n        \n        const slides = document.querySelectorAll('.slider__slide');\n        const indicators = document.querySelectorAll('.slider__indicator');\n        const prevBtn = document.querySelector('.slider__arrow--prev');\n        const nextBtn = document.querySelector('.slider__arrow--next');\n        \n        // Инициализация слайдера\n        \n        if (slides.length === 0) {\n            console.error('Слайды не найдены');\n            return;\n        }\n        \n        let currentSlide = 0;\n        let autoplayInterval = null;\n        const autoplayDelay = 5000;\n        \n        // Функция для перехода к слайду\n        function goToSlide(index) {\n            // Убираем активный класс со всех слайдов\n            slides.forEach(slide => slide.classList.remove('slider__slide--active'));\n            indicators.forEach(indicator => indicator.classList.remove('slider__indicator--active'));\n            \n            // Добавляем активный класс к текущему слайду\n            slides[index].classList.add('slider__slide--active');\n            if (indicators[index]) {\n                indicators[index].classList.add('slider__indicator--active');\n            }\n            \n            currentSlide = index;\n        }\n        \n        // Функция для перехода к следующему слайду\n        function nextSlide() {\n            const nextIndex = (currentSlide + 1) % slides.length;\n            goToSlide(nextIndex);\n        }\n        \n        // Функция для перехода к предыдущему слайду\n        function prevSlide() {\n            const prevIndex = (currentSlide - 1 + slides.length) % slides.length;\n            goToSlide(prevIndex);\n        }\n        \n        // Функция запуска автопрокрутки\n        function startAutoplay() {\n            stopAutoplay();\n            autoplayInterval = setInterval(nextSlide, autoplayDelay);\n        }\n        \n        // Функция остановки автопрокрутки\n        function stopAutoplay() {\n            if (autoplayInterval) {\n                clearInterval(autoplayInterval);\n                autoplayInterval = null;\n            }\n        }\n        \n        // Обработчики событий\n        if (nextBtn) {\n            nextBtn.addEventListener('click', function() {\n                nextSlide();\n                startAutoplay(); // Перезапускаем автопрокрутку\n            });\n        }\n        \n        if (prevBtn) {\n            prevBtn.addEventListener('click', function() {\n                prevSlide();\n                startAutoplay(); // Перезапускаем автопрокрутку\n            });\n        }\n        \n        // Обработчики для индикаторов\n        indicators.forEach((indicator, index) => {\n            indicator.addEventListener('click', function() {\n                goToSlide(index);\n                startAutoplay(); // Перезапускаем автопрокрутку\n            });\n        });\n        \n        // Клавиатурная навигация\n        document.addEventListener('keydown', function(e) {\n            if (e.key === 'ArrowLeft') {\n                prevSlide();\n                startAutoplay();\n            } else if (e.key === 'ArrowRight') {\n                nextSlide();\n                startAutoplay();\n            }\n        });\n        \n        // Пауза при наведении\n        slider.addEventListener('mouseenter', stopAutoplay);\n        slider.addEventListener('mouseleave', startAutoplay);\n        \n        // Запуск автопрокрутки\n        startAutoplay();\n        \n        // Инициализация завершена\n    }\n    \n})();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\n * Конфигурация приложения\n * Централизованные настройки для всех модулей\n */\n\nexport const CONFIG = {\n    // Настройки слайдера\n    slider: {\n        autoplayDelay: 5000,\n        transitionDuration: 500,\n        pauseOnHover: true,\n        keyboardNavigation: true,\n        arrowNavigation: true\n    },\n\n    // Настройки анимаций\n    animations: {\n        intersectionThreshold: 0.1,\n        rootMargin: '0px 0px -50px 0px',\n        animationDuration: 300,\n        staggerDelay: 100\n    },\n\n    // Настройки производительности\n    performance: {\n        lazyLoadMargin: '50px 0px',\n        preloadImages: 3,\n        enableResourceHints: true,\n        enablePerformanceMonitoring: true\n    },\n\n    // Настройки форм\n    forms: {\n        debounceDelay: 300,\n        showErrorsOnBlur: true,\n        autoHideMessages: 5000,\n        submitTimeout: 10000\n    },\n\n    // Настройки навигации\n    navigation: {\n        smoothScrollBehavior: 'smooth',\n        scrollOffset: 120,\n        throttleDelay: 100,\n        updateActiveOnScroll: true\n    },\n\n    // Настройки портфолио\n    portfolio: {\n        enableLazyLoading: true,\n        hoverEffects: true,\n        enableLightbox: false, // готово к реализации\n        enableFiltering: false // готово к реализации\n    },\n\n    // Брейкпоинты для адаптивности\n    breakpoints: {\n        mobile: 768,\n        tablet: 1024,\n        desktop: 1200,\n        large: 1400\n    },\n\n    // Настройки разработки\n    development: {\n        enableLogging: true,\n        enablePerformanceMetrics: true,\n        enableErrorReporting: true,\n        debugMode: false\n    },\n\n    // API endpoints (готово к подключению бэкенда)\n    api: {\n        contactForm: '/api/contact',\n        newsletter: '/api/newsletter',\n        portfolio: '/api/portfolio'\n    },\n\n    // SEO настройки\n    seo: {\n        siteName: 'Alexey Chepin',\n        defaultTitle: 'Алексей Чепин - Профессиональный фотограф',\n        defaultDescription: 'Свадебная, портретная и семейная фотосъемка',\n        keywords: 'фотограф, свадебная съемка, портреты, семейная фотосъемка'\n    },\n\n    // Социальные сети\n    social: {\n        instagram: '#',\n        vk: '#',\n        telegram: '#'\n    }\n};\n\n// Утилита для получения значения конфигурации по пути\nexport function getConfig(path) {\n    return path.split('.').reduce((obj, key) => obj?.[key], CONFIG);\n}\n\n// Утилита для проверки режима разработки\nexport function isDevelopment() {\n    return CONFIG.development.enableLogging && \n           (window.location.hostname === 'localhost' || \n            window.location.hostname === '127.0.0.1');\n}\n\n// Логирование для режима разработки\nexport function devLog(...args) {\n    if (isDevelopment() && CONFIG.development.enableLogging) {\n        console.log('[DEV]', ...args);\n    }\n}\n","/**\n * Модуль слайдера\n * Управляет работой слайдера на главной странице\n */\n\nimport { devLog } from '../config.js';\n\nexport class Slider {\n    constructor() {\n        this.slider = document.querySelector('.slider');\n        this.slides = document.querySelectorAll('.slider__slide');\n        this.indicators = document.querySelectorAll('.slider__indicator');\n        this.prevBtn = document.querySelector('.slider__arrow--prev');\n        this.nextBtn = document.querySelector('.slider__arrow--next');\n        \n        this.currentSlide = 0;\n        this.slideCount = this.slides.length;\n        this.autoplayInterval = null;\n        this.autoplayDelay = 5000; // 5 секунд\n        \n        if (this.slider) {\n            this.init();\n        }\n    }\n\n    init() {\n        devLog('Slider: Инициализация слайдера');\n        \n        // Проверяем наличие элементов\n        if (!this.slides.length) {\n            console.error('Slider: Не найдены слайды');\n            return;\n        }\n        \n        if (!this.indicators.length) {\n            console.error('Slider: Не найдены индикаторы');\n            return;\n        }\n        \n        console.log(`Slider: Найдено ${this.slides.length} слайдов и ${this.indicators.length} индикаторов`);\n        \n        // Привязываем обработчики событий\n        this.bindEvents();\n        \n        // Запускаем автопрокрутку\n        this.startAutoplay();\n        \n        // Обновляем индикаторы\n        this.updateIndicators();\n    }\n\n    bindEvents() {\n        // Кнопки навигации\n        if (this.prevBtn) {\n            this.prevBtn.addEventListener('click', () => this.goToPrevSlide());\n        }\n        \n        if (this.nextBtn) {\n            this.nextBtn.addEventListener('click', () => this.goToNextSlide());\n        }\n\n        // Индикаторы\n        this.indicators.forEach((indicator, index) => {\n            indicator.addEventListener('click', () => this.goToSlide(index));\n        });\n\n        // Клавиатурная навигация\n        document.addEventListener('keydown', (e) => {\n            if (e.key === 'ArrowLeft') {\n                this.goToPrevSlide();\n            } else if (e.key === 'ArrowRight') {\n                this.goToNextSlide();\n            }\n        });\n\n        // Пауза автопрокрутки при наведении\n        this.slider.addEventListener('mouseenter', () => this.stopAutoplay());\n        this.slider.addEventListener('mouseleave', () => this.startAutoplay());\n\n        // Пауза автопрокрутки при фокусе\n        this.slider.addEventListener('focusin', () => this.stopAutoplay());\n        this.slider.addEventListener('focusout', () => this.startAutoplay());\n    }\n\n    goToSlide(index) {\n        if (index === this.currentSlide) return;\n        \n        // Убираем активный класс с текущего слайда\n        this.slides[this.currentSlide].classList.remove('slider__slide--active');\n        \n        // Устанавливаем новый активный слайд\n        this.currentSlide = index;\n        this.slides[this.currentSlide].classList.add('slider__slide--active');\n        \n        // Обновляем индикаторы\n        this.updateIndicators();\n        \n        devLog(`Slider: Переход к слайду ${index + 1}`);\n    }\n\n    goToNextSlide() {\n        const nextIndex = (this.currentSlide + 1) % this.slideCount;\n        this.goToSlide(nextIndex);\n    }\n\n    goToPrevSlide() {\n        const prevIndex = (this.currentSlide - 1 + this.slideCount) % this.slideCount;\n        this.goToSlide(prevIndex);\n    }\n\n    updateIndicators() {\n        this.indicators.forEach((indicator, index) => {\n            indicator.classList.toggle('slider__indicator--active', index === this.currentSlide);\n        });\n    }\n\n    startAutoplay() {\n        this.stopAutoplay();\n        this.autoplayInterval = setInterval(() => {\n            this.goToNextSlide();\n        }, this.autoplayDelay);\n    }\n\n    stopAutoplay() {\n        if (this.autoplayInterval) {\n            clearInterval(this.autoplayInterval);\n            this.autoplayInterval = null;\n        }\n    }\n\n    // Методы для внешнего управления\n    play() {\n        this.startAutoplay();\n    }\n\n    pause() {\n        this.stopAutoplay();\n    }\n\n    destroy() {\n        this.stopAutoplay();\n        // Здесь можно добавить удаление обработчиков событий при необходимости\n    }\n}\n","/**\n * Модуль навигации\n * Управляет работой главного меню и навигации\n */\n\nimport { devLog } from '../config.js';\n\nexport class Navigation {\n    constructor() {\n        this.nav = document.querySelector('.nav');\n        this.navToggle = document.querySelector('.nav__toggle');\n        this.navMenu = document.querySelector('.nav__menu');\n        this.navLinks = document.querySelectorAll('.nav__link');\n        \n        if (this.nav) {\n            this.init();\n        }\n    }\n\n    init() {\n        devLog('Navigation: Инициализация навигации');\n        this.bindEvents();\n    }\n\n    bindEvents() {\n        // Обработчик для мобильного меню\n        if (this.navToggle) {\n            this.navToggle.addEventListener('click', () => this.toggleMenu());\n        }\n\n        // Обработчики для навигационных ссылок\n        this.navLinks.forEach(link => {\n            link.addEventListener('click', (e) => {\n                this.handleNavClick(e);\n            });\n        });\n\n        // Закрытие мобильного меню при клике вне его\n        document.addEventListener('click', (e) => {\n            if (!this.nav.contains(e.target) && this.navMenu.classList.contains('nav__menu--active')) {\n                this.closeMenu();\n            }\n        });\n    }\n\n    toggleMenu() {\n        this.navMenu.classList.toggle('nav__menu--active');\n        this.navToggle.classList.toggle('nav__toggle--active');\n    }\n\n    closeMenu() {\n        this.navMenu.classList.remove('nav__menu--active');\n        this.navToggle.classList.remove('nav__toggle--active');\n    }\n\n    handleNavClick(e) {\n        const link = e.target.closest('.nav__link');\n        if (!link) return;\n\n        const href = link.getAttribute('href');\n        \n        // Если это якорная ссылка, плавно прокручиваем к секции\n        if (href && href.startsWith('#')) {\n            e.preventDefault();\n            const targetId = href.substring(1);\n            const targetElement = document.getElementById(targetId);\n            \n            if (targetElement) {\n                targetElement.scrollIntoView({\n                    behavior: 'smooth',\n                    block: 'start'\n                });\n            }\n            \n            // Закрываем мобильное меню\n            this.closeMenu();\n        }\n    }\n}\n","/**\n * Модуль анимаций\n * Управляет анимациями элементов на странице\n */\n\nimport { devLog } from '../config.js';\n\nexport class Animations {\n    constructor() {\n        this.animatedElements = document.querySelectorAll('[class*=\"animate-\"], .fade-in, .slide-up, .slide-left, .slide-right, .zoom-in, [class*=\"delay-\"]');\n        this.observer = null;\n        \n        if (this.animatedElements.length > 0) {\n            this.init();\n        }\n    }\n\n    init() {\n        devLog('Animations: Инициализация анимаций');\n        \n        // Применяем анимации для элементов, которые уже видны на экране\n        this.applyInitialAnimations();\n        \n        // Настраиваем наблюдатель для остальных элементов\n        this.setupIntersectionObserver();\n        \n        // Стабилизируем страницу после загрузки\n        this.stabilizePage();\n    }\n    \n    stabilizePage() {\n        // Сразу делаем видимыми критически важные элементы\n        const ctaBlock = document.querySelector('.portfolio-categories__cta');\n        if (ctaBlock) {\n            ctaBlock.classList.add('animate-in');\n        }\n        \n        // Добавляем класс стабилизации через 3 секунды\n        setTimeout(() => {\n            document.body.classList.add('page-loaded');\n        }, 3000);\n        \n        // Принудительная стабилизация через 5 секунд\n        setTimeout(() => {\n            document.body.classList.add('force-visible');\n        }, 5000);\n    }\n    \n    applyInitialAnimations() {\n        // Проверяем элементы, которые уже видны в viewport\n        this.animatedElements.forEach(element => {\n            const rect = element.getBoundingClientRect();\n            const isVisible = rect.top < window.innerHeight && rect.bottom > 0;\n            \n            if (isVisible) {\n                // Небольшая задержка для лучшего UX\n                setTimeout(() => {\n                    this.animateElement(element);\n                }, 100);\n            }\n        });\n    }\n\n    setupIntersectionObserver() {\n        const options = {\n            root: null,\n            rootMargin: '0px 0px -50px 0px',\n            threshold: 0.1\n        };\n\n        this.observer = new IntersectionObserver((entries) => {\n            entries.forEach(entry => {\n                if (entry.isIntersecting) {\n                    this.animateElement(entry.target);\n                }\n            });\n        }, options);\n\n        // Наблюдаем только за элементами, которые еще не анимированы\n        this.animatedElements.forEach(element => {\n            if (!element.classList.contains('animate-in') && !element.classList.contains('fade-in--visible')) {\n                this.observer.observe(element);\n            }\n        });\n    }\n\n    animateElement(element) {\n        // Проверяем, не анимирован ли уже элемент\n        if (element.classList.contains('animate-in') || element.classList.contains('fade-in--visible')) {\n            return;\n        }\n        \n        // Добавляем классы активации для разных типов анимации\n        if (element.classList.contains('fade-in')) {\n            element.classList.add('fade-in--visible');\n        }\n        \n        if (element.classList.contains('slide-up') || \n            element.classList.contains('slide-left') || \n            element.classList.contains('slide-right') || \n            element.classList.contains('zoom-in')) {\n            element.classList.add('animate-in');\n        }\n        \n        // Для всех animate- классов\n        if (element.className.includes('animate-fade-in-up') ||\n            element.className.includes('animate-fade-in-down') ||\n            element.className.includes('animate-fade-in-left') ||\n            element.className.includes('animate-fade-in-right') ||\n            element.className.includes('animate-')) {\n            element.classList.add('animate-in');\n        }\n        \n        devLog('Animations: Анимация активирована для элемента', element);\n        \n        // Удаляем элемент из наблюдения после небольшой задержки\n        // Это позволяет анимации завершиться стабильно\n        if (this.observer) {\n            setTimeout(() => {\n                this.observer.unobserve(element);\n            }, 1000); // Задержка в 1 секунду для завершения анимации\n        }\n    }\n}\n","/**\n * Модуль портфолио\n * Управляет отображением портфолио\n */\n\nimport { devLog } from '../config.js';\n\nexport class Portfolio {\n    constructor() {\n        this.portfolio = document.querySelector('.portfolio');\n        \n        if (this.portfolio) {\n            this.init();\n        }\n    }\n\n    init() {\n        devLog('Portfolio: Инициализация портфолио');\n        // Базовая инициализация\n    }\n}\n","/**\n * Модуль форм\n * Управляет обработкой форм\n */\n\nimport { devLog } from '../config.js';\n\nexport class Forms {\n    constructor() {\n        this.forms = document.querySelectorAll('form');\n        \n        if (this.forms.length > 0) {\n            this.init();\n        }\n    }\n\n    init() {\n        devLog('Forms: Инициализация форм');\n        // Базовая инициализация\n    }\n}\n","/**\n * Модуль производительности\n * Оптимизирует производительность сайта\n */\n\nimport { devLog } from '../config.js';\n\nexport class Performance {\n    constructor() {\n        this.init();\n    }\n\n    init() {\n        devLog('Performance: Инициализация модуля производительности');\n        this.setupLazyLoading();\n        this.preloadCriticalImages();\n    }\n\n    setupLazyLoading() {\n        const lazyImages = document.querySelectorAll('img[data-src]');\n        \n        if (lazyImages.length > 0) {\n            const imageObserver = new IntersectionObserver((entries) => {\n                entries.forEach(entry => {\n                    if (entry.isIntersecting) {\n                        const img = entry.target;\n                        img.src = img.dataset.src;\n                        img.classList.remove('lazy');\n                        imageObserver.unobserve(img);\n                    }\n                });\n            });\n\n            lazyImages.forEach(img => imageObserver.observe(img));\n        }\n    }\n\n    preloadCriticalImages() {\n        const criticalImages = document.querySelectorAll('img[data-priority=\"high\"]');\n        \n        criticalImages.forEach(img => {\n            const link = document.createElement('link');\n            link.rel = 'preload';\n            link.as = 'image';\n            link.href = img.src || img.dataset.src;\n            document.head.appendChild(link);\n        });\n    }\n}\n\n// Экспорт дополнительных функций оптимизации\nexport const performanceOptimizations = {\n    debounce: (func, wait) => {\n        let timeout;\n        return function executedFunction(...args) {\n            const later = () => {\n                clearTimeout(timeout);\n                func(...args);\n            };\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n        };\n    },\n    \n    throttle: (func, limit) => {\n        let inThrottle;\n        return function() {\n            const args = arguments;\n            const context = this;\n            if (!inThrottle) {\n                func.apply(context, args);\n                inThrottle = true;\n                setTimeout(() => inThrottle = false, limit);\n            }\n        };\n    }\n};\n","/**\n * Модуль просмотра фотографий\n */\n\nimport { devLog } from '../config.js';\n\nexport class PhotoViewer {\n    constructor() {\n        devLog('PhotoViewer: Инициализация');\n    }\n}\n","/**\n * Модуль компонентов\n */\n\nimport { devLog } from '../config.js';\n\nexport class Components {\n    constructor() {\n        devLog('Components: Инициализация');\n    }\n}\n","/**\n * Модуль фильтрации портфолио\n */\n\nimport { devLog } from '../config.js';\n\nexport class PortfolioFilter {\n    constructor() {\n        devLog('PortfolioFilter: Инициализация');\n    }\n}\n","/**\n * Модуль современного лайтбокса\n */\n\nimport { devLog } from '../config.js';\n\nexport class ModernLightbox {\n    constructor() {\n        devLog('ModernLightbox: Инициализация');\n    }\n}\n","/**\n * Модуль интеграции портфолио\n */\n\nimport { devLog } from '../config.js';\n\nexport class PortfolioIntegration {\n    constructor() {\n        devLog('PortfolioIntegration: Инициализация');\n    }\n}\n","/**\n * Модуль анимаций прокрутки\n */\n\nimport { devLog } from '../config.js';\n\nexport class ScrollAnimations {\n    constructor() {\n        devLog('ScrollAnimations: Инициализация');\n    }\n}\n","/**\n * Модуль расширенных форм\n */\n\nimport { devLog } from '../config.js';\n\nexport class EnhancedForms {\n    constructor() {\n        devLog('EnhancedForms: Инициализация');\n    }\n}\n","/**\n * Модуль прогрессивной загрузки изображений\n */\n\nimport { devLog } from '../config.js';\n\nexport class ProgressiveImageLoading {\n    constructor() {\n        devLog('ProgressiveImageLoading: Инициализация');\n    }\n}\n","/**\n * Модуль FAQ аккордеона\n */\n\nimport { devLog } from '../config.js';\n\nexport class FAQAccordion {\n    constructor() {\n        devLog('FAQAccordion: Начало инициализации');\n        \n        // Используем setTimeout для гарантии, что DOM полностью загружен\n        setTimeout(() => {\n            this.faqItems = document.querySelectorAll('.faq-item');\n            devLog(`FAQAccordion: Найдено ${this.faqItems.length} FAQ элементов`);\n            \n            if (this.faqItems.length === 0) {\n                devLog('FAQAccordion: FAQ элементы не найдены, повторная попытка через 1 секунду');\n                setTimeout(() => {\n                    this.faqItems = document.querySelectorAll('.faq-item');\n                    devLog(`FAQAccordion: Повторная попытка - найдено ${this.faqItems.length} FAQ элементов`);\n                    this.init();\n                }, 1000);\n            } else {\n                this.init();\n            }\n        }, 100);\n    }\n\n    init() {\n        if (this.faqItems.length === 0) {\n            devLog('FAQAccordion: FAQ элементы не найдены');\n            return;\n        }\n\n        this.bindEvents();\n        devLog(`FAQAccordion: Инициализировано ${this.faqItems.length} FAQ элементов`);\n\n        // Глобальная ссылка для отладки\n        window.faqDebug = this;\n    }\n\n    bindEvents() {\n        this.faqItems.forEach((item, index) => {\n            const trigger = item.querySelector('.faq-item__trigger');\n            if (trigger) {\n                devLog(`FAQAccordion: Привязка событий для элемента ${index}`);\n                \n                // Простая обработка клика\n                trigger.addEventListener('click', (e) => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    devLog(`FAQAccordion: Клик по элементу ${index}`);\n                    this.toggleItem(item);\n                });\n                \n                trigger.addEventListener('keydown', (e) => this.handleKeydown(e, item));\n                \n                // Установка ARIA атрибутов\n                trigger.setAttribute('aria-expanded', 'false');\n                trigger.setAttribute('aria-controls', `faq-content-${index}`);\n                \n                const content = item.querySelector('.faq-item__content');\n                if (content) {\n                    content.setAttribute('id', `faq-content-${index}`);\n                    content.setAttribute('aria-hidden', 'true');\n                    // Устанавливаем начальное состояние\n                    content.style.maxHeight = '0px';\n                    devLog(`FAQAccordion: Контент найден для элемента ${index}`);\n                } else {\n                    devLog(`FAQAccordion: Контент НЕ найден для элемента ${index}`);\n                }\n            } else {\n                devLog(`FAQAccordion: Триггер НЕ найден для элемента ${index}`);\n            }\n        });\n    }\n\n    toggleItem(item) {\n        if (!item) {\n            devLog('FAQAccordion: Элемент не передан в toggleItem');\n            return;\n        }\n\n        const trigger = item.querySelector('.faq-item__trigger');\n        const content = item.querySelector('.faq-item__content');\n        const isActive = item.classList.contains('active');\n\n        devLog(`FAQAccordion: toggleItem - элемент ${isActive ? 'активен' : 'неактивен'}`);\n\n        if (isActive) {\n            this.closeItem(item);\n        } else {\n            // Закрываем все остальные элементы\n            this.faqItems.forEach(otherItem => {\n                if (otherItem !== item && otherItem.classList.contains('active')) {\n                    this.closeItem(otherItem);\n                }\n            });\n            \n            // Открываем текущий элемент\n            this.openItem(item);\n        }\n    }\n\n    openItem(item) {\n        const trigger = item.querySelector('.faq-item__trigger');\n        const content = item.querySelector('.faq-item__content');\n        \n        if (!content) {\n            devLog('FAQAccordion: Контент не найден для открытия');\n            return;\n        }\n        \n        item.classList.add('active');\n        \n        if (trigger) {\n            trigger.setAttribute('aria-expanded', 'true');\n        }\n        \n        if (content) {\n            content.setAttribute('aria-hidden', 'false');\n            \n            // Устанавливаем max-height для плавной анимации\n            const scrollHeight = content.scrollHeight;\n            content.style.maxHeight = scrollHeight + 'px';\n            \n            devLog(`FAQAccordion: Элемент открыт, высота: ${scrollHeight}px`);\n        }\n    }\n\n    closeItem(item) {\n        const trigger = item.querySelector('.faq-item__trigger');\n        const content = item.querySelector('.faq-item__content');\n        \n        if (!content) {\n            devLog('FAQAccordion: Контент не найден для закрытия');\n            return;\n        }\n        \n        item.classList.remove('active');\n        \n        if (trigger) {\n            trigger.setAttribute('aria-expanded', 'false');\n        }\n        \n        if (content) {\n            content.setAttribute('aria-hidden', 'true');\n            content.style.maxHeight = '0px';\n            \n            devLog('FAQAccordion: Элемент закрыт');\n        }\n    }\n\n    handleKeydown(e, item) {\n        if (e.key === 'Enter' || e.key === ' ') {\n            e.preventDefault();\n            this.toggleItem(item);\n        }\n    }\n\n    // Метод для программного открытия/закрытия\n    toggleItemByIndex(index) {\n        if (this.faqItems[index]) {\n            this.toggleItem(this.faqItems[index]);\n        }\n    }\n\n    // Метод для закрытия всех элементов\n    closeAll() {\n        this.faqItems.forEach(item => {\n            if (item.classList.contains('active')) {\n                this.closeItem(item);\n            }\n        });\n    }\n\n    // Метод для отладки состояния FAQ\n    debugState() {\n        console.log('FAQ Debug State:');\n        this.faqItems.forEach((item, index) => {\n            const trigger = item.querySelector('.faq-item__trigger');\n            const content = item.querySelector('.faq-item__content');\n            const isActive = item.classList.contains('active');\n            \n            console.log(`FAQ Item ${index}:`, {\n                isActive,\n                triggerExists: !!trigger,\n                contentExists: !!content,\n                contentMaxHeight: content ? content.style.maxHeight : 'none',\n                ariaExpanded: trigger ? trigger.getAttribute('aria-expanded') : 'none'\n            });\n        });\n    }\n}\n","/**\n * Модуль слайдера отзывов\n */\n\nimport { devLog } from '../config.js';\n\nexport class TestimonialSlider {\n    constructor() {\n        devLog('TestimonialSlider: Инициализация');\n    }\n}\n","/**\n * Главный модуль приложения\n * Инициализирует все компоненты сайта\n */\n\n// Импорт стилей\nimport '../css/styles.css';\n\n// Импорт дополнительных модулей\nimport './mobile-menu.js';\nimport './simple-slider.js';\nimport './direct-footer-loader.js';\n\n// Импорт модулей\nimport { Slider } from './modules/slider.js';\nimport { Navigation } from './modules/navigation.js';\nimport { Animations } from './modules/animations.js';\nimport { Portfolio } from './modules/portfolio.js';\nimport { Forms } from './modules/forms.js';\nimport { Performance, performanceOptimizations } from './modules/performance.js';\nimport { PhotoViewer } from './modules/photo-viewer.js';\nimport { Analytics } from './modules/analytics.js';\nimport { Components } from './modules/components.js';\nimport { PortfolioFilter } from './modules/portfolio-filter.js';\nimport { ModernLightbox } from './modules/modern-lightbox.js';\nimport { PortfolioIntegration } from './modules/portfolio-integration.js';\nimport { ScrollAnimations } from './modules/scroll-animations.js';\nimport { EnhancedForms } from './modules/enhanced-forms.js';\nimport { ProgressiveImageLoading } from './modules/progressive-images.js';\nimport { FAQAccordion } from './modules/faq-accordion.js';\nimport { devLog, isDevelopment } from './config.js';\nimport { TestimonialSlider } from './modules/testimonial-slider.js';\n\nclass App {\n  constructor() {\n    this.modules = {};\n    this.isInitialized = false;\n\n    devLog('App: Создание экземпляра приложения');\n    this.init();\n  }\n\n  /**\n   * Инициализация приложения\n   */\n  async init() {\n    // Ждем полной загрузки DOM\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', () => {\n        this.loadTemplatesAndInit();\n      });\n    } else {\n      await this.loadTemplatesAndInit();\n    }\n  }\n\n  /**\n   * Инициализация без шаблонов\n   */\n  async loadTemplatesAndInit() {\n    try {\n      // Инициализируем модули\n      this.initModules();\n    } catch (error) {\n      console.error('Ошибка при инициализации:', error);\n    }\n  }\n\n  /**\n   * Инициализация всех модулей\n   */\n  initModules() {\n    try {\n      const moduleConfigs = [\n        // Базовые системные модули - инициализируются первыми\n        { name: 'performance', Class: Performance, description: 'Оптимизация производительности' },\n        { name: 'analytics', Class: Analytics, description: 'Аналитика' },\n        \n        // Ключевые модули UI\n        { name: 'navigation', Class: Navigation, description: 'Навигация' },\n        { name: 'progressiveImageLoading', Class: ProgressiveImageLoading, description: 'Прогрессивная загрузка изображений' },\n        \n        // Компоненты и анимации\n        { name: 'components', Class: Components, description: 'Улучшения компонентов' },\n        { name: 'animations', Class: Animations, description: 'Анимации' },\n        { name: 'scrollAnimations', Class: ScrollAnimations, description: 'Анимации прокрутки' },\n        { name: 'slider', Class: Slider, description: 'Слайдер' },\n        \n        // Портфолио и галерея\n        { name: 'portfolio', Class: Portfolio, description: 'Портфолио' },\n        { name: 'portfolioFilter', Class: PortfolioFilter, description: 'Фильтрация портфолио' },\n        { name: 'modernLightbox', Class: ModernLightbox, description: 'Современный лайтбокс' },\n        { name: 'photoViewer', Class: PhotoViewer, description: 'Просмотр фотографий' },\n        { name: 'portfolioIntegration', Class: PortfolioIntegration, description: 'Интеграция портфолио' },\n        \n        // Формы и интерактивные элементы\n        { name: 'forms', Class: Forms, description: 'Формы' },\n        { name: 'enhancedForms', Class: EnhancedForms, description: 'Расширенные формы' },\n        { name: 'faqAccordion', Class: FAQAccordion, description: 'FAQ аккордеон' },\n        { name: 'testimonialSlider', Class: TestimonialSlider, description: 'Слайдер отзывов' },\n      ];\n\n      moduleConfigs.forEach(({ name, Class, description }) => {\n        try {\n          this.modules[name] = new Class();\n          devLog(`✓ ${description} инициализирован`);\n        } catch (error) {\n          console.error(`❌ Ошибка инициализации ${description}:`, error);\n        }\n      });\n\n      this.isInitialized = true;\n      console.log('🚀 Приложение полностью загружено');\n\n      // Запускаем мониторинг производительности\n      if (this.modules.performance) {\n        this.modules.performance.measurePerformance();\n      }\n\n      // Отслеживаем успешную инициализацию\n      if (this.modules.analytics) {\n        this.modules.analytics.trackEvent('app', 'initialized', 'success');\n      }\n    } catch (error) {\n      console.error('❌ Критическая ошибка при инициализации:', error);\n      if (this.modules.analytics) {\n        this.modules.analytics.trackEvent('app', 'initialization_error', error.message);\n      }\n    }\n  }\n\n  /**\n   * Уничтожение всех модулей\n   */\n  destroy() {\n    Object.entries(this.modules).forEach(([name, module]) => {\n      if (module && typeof module.destroy === 'function') {\n        try {\n          module.destroy();\n          devLog(`App: Модуль ${name} уничтожен`);\n        } catch (error) {\n          console.error(`Ошибка при уничтожении модуля ${name}:`, error);\n        }\n      }\n    });\n\n    this.modules = {};\n    this.isInitialized = false;\n    console.log('🔄 Приложение остановлено');\n  }\n\n  /**\n   * Перезапуск приложения\n   */\n  restart() {\n    devLog('App: Перезапуск приложения');\n    this.destroy();\n    setTimeout(() => {\n      this.init();\n    }, 100);\n  }\n}\n\n/**\n * Лайтбокс для фото на главной странице\n */\nclass HomeLightbox {\n  constructor() {\n    this.currentLightbox = null;\n    this.init();\n  }\n\n  init() {\n    this.setupPhotoLightbox();\n    \n    // Закрытие лайтбокса по ESC\n    document.addEventListener('keydown', (e) => {\n      if (e.key === 'Escape') {\n        this.closeLightbox();\n      }\n    });\n  }\n\n  setupPhotoLightbox() {\n    const photoLightbox = document.querySelector('.about-home__photo-wrapper.photo-lightbox');\n    if (!photoLightbox) return;\n\n    photoLightbox.addEventListener('click', (e) => {\n      e.preventDefault();\n      this.openLightbox();\n    });\n  }\n\n  openLightbox() {\n    const photoImg = document.querySelector('.about-home__image');\n    if (!photoImg) return;\n\n    // Создаем лайтбокс\n    const lightboxOverlay = document.createElement('div');\n    lightboxOverlay.className = 'lightbox-overlay';\n    lightboxOverlay.innerHTML = `\n      <div class=\"lightbox-content\">\n        <div class=\"lightbox-loader\">\n          <div class=\"loader-spinner\"></div>\n        </div>\n        <img src=\"${photoImg.src}\" alt=\"${photoImg.alt}\" class=\"lightbox-image\" style=\"display: none;\">\n        <button class=\"lightbox-close\" aria-label=\"Закрыть\">\n          <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n            <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n            <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n          </svg>\n        </button>\n        <div class=\"lightbox-hint\">\n          <span>Колёсико мыши — масштаб • Двойной клик — сброс</span>\n        </div>\n      </div>\n    `;\n\n    // Добавляем лайтбокс в документ\n    document.body.appendChild(lightboxOverlay);\n    document.body.style.overflow = 'hidden';\n\n    // Анимация появления\n    requestAnimationFrame(() => {\n      lightboxOverlay.classList.add('active');\n    });\n\n    // Обработчики закрытия\n    const closeBtn = lightboxOverlay.querySelector('.lightbox-close');\n    const lightboxImage = lightboxOverlay.querySelector('.lightbox-image');\n    const loader = lightboxOverlay.querySelector('.lightbox-loader');\n\n    closeBtn.addEventListener('click', () => this.closeLightbox());\n    \n    lightboxOverlay.addEventListener('click', (e) => {\n      if (e.target === lightboxOverlay) {\n        this.closeLightbox();\n      }\n    });\n\n    // Загрузка изображения\n    lightboxImage.onload = () => {\n      loader.style.display = 'none';\n      lightboxImage.style.display = 'block';\n      // Показываем подсказку после загрузки\n      setTimeout(() => {\n        lightboxOverlay.classList.add('show-hint');\n      }, 500);\n    };\n\n    // Поддержка сенсорных жестов для мобильных\n    this.setupTouchGestures(lightboxOverlay);\n\n    // Поддержка масштабирования\n    this.setupImageZoom(lightboxImage);\n\n    // Сохраняем ссылку на лайтбокс\n    this.currentLightbox = lightboxOverlay;\n  }\n\n  closeLightbox() {\n    const lightbox = this.currentLightbox || document.querySelector('.lightbox-overlay');\n    if (!lightbox) return;\n\n    const lightboxImage = lightbox.querySelector('.lightbox-image');\n    \n    // Сбрасываем все стили\n    if (lightboxImage) {\n      lightboxImage.style.transform = '';\n      lightboxImage.style.transition = '';\n    }\n    lightbox.style.background = '';\n    lightbox.style.opacity = '';\n\n    lightbox.classList.remove('active');\n    document.body.style.overflow = '';\n\n    // Удаляем элемент после анимации\n    setTimeout(() => {\n      if (lightbox.parentNode) {\n        lightbox.parentNode.removeChild(lightbox);\n      }\n      this.currentLightbox = null;\n    }, 300);\n  }\n\n  setupTouchGestures(lightboxOverlay) {\n    let touchStartY = 0;\n    let touchStartX = 0;\n    let isDragging = false;\n    let draggedElement = null;\n    let initialImageTransform = '';\n\n    const lightboxImage = lightboxOverlay.querySelector('.lightbox-image');\n\n    // Touch start - определяем начало касания\n    lightboxOverlay.addEventListener('touchstart', (e) => {\n      if (e.touches.length === 1) {\n        touchStartY = e.touches[0].clientY;\n        touchStartX = e.touches[0].clientX;\n        isDragging = true;\n        draggedElement = e.target;\n        \n        // Сохраняем начальный transform изображения\n        initialImageTransform = lightboxImage.style.transform || '';\n      }\n    }, { passive: true });\n\n    // Touch move - обрабатываем движение\n    lightboxOverlay.addEventListener('touchmove', (e) => {\n      if (!isDragging || e.touches.length !== 1) return;\n\n      const touchY = e.touches[0].clientY;\n      const touchX = e.touches[0].clientX;\n      const deltaY = touchY - touchStartY;\n      const deltaX = touchX - touchStartX;\n\n      // Если движение преимущественно вертикальное\n      if (Math.abs(deltaY) > Math.abs(deltaX) && Math.abs(deltaY) > 30) {\n        e.preventDefault();\n        \n        // Вычисляем прозрачность overlay\n        const opacity = Math.max(0.3, 1 - Math.abs(deltaY) / 300);\n        lightboxOverlay.style.background = `rgba(0, 0, 0, ${opacity * 0.9})`;\n        \n        // Перемещаем изображение вместе с пальцем\n        const scale = Math.max(0.7, 1 - Math.abs(deltaY) / 800);\n        const translateY = deltaY * 0.8;\n        \n        lightboxImage.style.transform = `${initialImageTransform} translateY(${translateY}px) scale(${scale})`;\n        lightboxImage.style.transition = 'none';\n      }\n    }, { passive: false });\n\n    // Touch end - завершение касания\n    lightboxOverlay.addEventListener('touchend', (e) => {\n      if (!isDragging) return;\n      isDragging = false;\n\n      const touchEndY = e.changedTouches[0].clientY;\n      const touchEndX = e.changedTouches[0].clientX;\n      const deltaY = touchEndY - touchStartY;\n      const deltaX = touchEndX - touchStartX;\n\n      // Восстанавливаем переходы\n      lightboxImage.style.transition = 'transform 0.3s ease';\n\n      // Если свайп больше 120px по вертикали - закрываем\n      if (Math.abs(deltaY) > 120 && Math.abs(deltaY) > Math.abs(deltaX)) {\n        this.closeLightbox();\n      } else if (Math.abs(deltaY) < 30 && Math.abs(deltaX) < 30) {\n        // Если это просто тап без движения\n        if (draggedElement === lightboxOverlay) {\n          // Тап по области за изображением - закрываем\n          this.closeLightbox();\n        } else if (draggedElement === lightboxImage) {\n          // Тап по изображению - тоже закрываем (как альтернатива кнопке)\n          this.closeLightbox();\n        }\n      } else {\n        // Возвращаем в исходное состояние\n        lightboxOverlay.style.background = '';\n        lightboxImage.style.transform = initialImageTransform;\n      }\n    }, { passive: true });\n\n    // Touch cancel - отмена касания\n    lightboxOverlay.addEventListener('touchcancel', () => {\n      if (isDragging) {\n        isDragging = false;\n        lightboxOverlay.style.background = '';\n        lightboxImage.style.transform = initialImageTransform;\n        lightboxImage.style.transition = 'transform 0.3s ease';\n      }\n    }, { passive: true });\n  }\n\n  setupImageZoom(image) {\n    let scale = 1;\n    let isDragging = false;\n    let startX = 0;\n    let startY = 0;\n    let translateX = 0;\n    let translateY = 0;\n\n    // Функция для обновления transform\n    const updateTransform = () => {\n      if (scale === 1 && translateX === 0 && translateY === 0) {\n        // Убираем inline стили, возвращаемся к CSS\n        image.style.transform = '';\n      } else {\n        image.style.transform = `scale(${scale}) translate(${translateX}px, ${translateY}px)`;\n      }\n    };\n\n    // Масштабирование колёсиком мыши\n    image.addEventListener('wheel', (e) => {\n      e.preventDefault();\n      \n      const delta = e.deltaY > 0 ? -0.1 : 0.1;\n      scale = Math.max(1, Math.min(3, scale + delta));\n      \n      // Сброс позиции при минимальном масштабе\n      if (scale === 1) {\n        translateX = 0;\n        translateY = 0;\n      }\n      \n      updateTransform();\n    });\n\n    // Перетаскивание при увеличении\n    image.addEventListener('mousedown', (e) => {\n      if (scale > 1) {\n        isDragging = true;\n        startX = e.clientX - translateX;\n        startY = e.clientY - translateY;\n        image.style.cursor = 'grabbing';\n        e.preventDefault();\n      }\n    });\n\n    document.addEventListener('mousemove', (e) => {\n      if (isDragging && scale > 1) {\n        translateX = e.clientX - startX;\n        translateY = e.clientY - startY;\n        updateTransform();\n      }\n    });\n\n    document.addEventListener('mouseup', () => {\n      if (isDragging) {\n        isDragging = false;\n        image.style.cursor = scale > 1 ? 'grab' : 'default';\n      }\n    });\n\n    // Двойной клик для сброса масштаба\n    image.addEventListener('dblclick', () => {\n      scale = 1;\n      translateX = 0;\n      translateY = 0;\n      updateTransform();\n      image.style.cursor = 'default';\n    });\n\n    // Поддержка щипка для мобильных\n    this.setupTouchZoom(image);\n\n    // Начальный курсор\n    image.style.cursor = 'default';\n  }\n\n  setupTouchZoom(image) {\n    let initialDistance = 0;\n    let scale = 1;\n\n    // Функция для обновления transform в мобильной версии\n    const updateMobileTransform = () => {\n      if (scale === 1) {\n        image.style.transform = '';\n      } else {\n        image.style.transform = `scale(${scale})`;\n      }\n    };\n\n    image.addEventListener('touchstart', (e) => {\n      if (e.touches.length === 2) {\n        e.preventDefault();\n        initialDistance = this.getDistance(e.touches[0], e.touches[1]);\n      }\n    });\n\n    image.addEventListener('touchmove', (e) => {\n      if (e.touches.length === 2) {\n        e.preventDefault();\n        const currentDistance = this.getDistance(e.touches[0], e.touches[1]);\n        const deltaScale = currentDistance / initialDistance;\n        scale = Math.max(1, Math.min(3, scale * deltaScale));\n        \n        updateMobileTransform();\n        initialDistance = currentDistance;\n      }\n    });\n\n    image.addEventListener('touchend', (e) => {\n      if (e.touches.length < 2) {\n        // Сброс при минимальном масштабе\n        if (scale <= 1.1) {\n          scale = 1;\n          updateMobileTransform();\n        }\n      }\n    });\n  }\n\n  getDistance(touch1, touch2) {\n    const dx = touch1.clientX - touch2.clientX;\n    const dy = touch1.clientY - touch2.clientY;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n}\n\n// Создаем экземпляр приложения\nconst app = new App();\n\n// Инициализируем лайтбокс для главной страницы\nconst homeLightbox = new HomeLightbox();\n\n// Экспортируем для возможного использования извне\nwindow.ChepinApp = app;\n"],"names":["Analytics","_classCallCheck","this","config","enabled","yandexMetrikaId","googleAnalyticsId","debug","isLocalhost","checkLocalhost","key","value","hostname","window","location","port","includes","arguments","length","undefined","_objectSpread","console","log","initYandexMetrika","initGoogleAnalytics","initCustomEvents","initDebugMode","id","ym","a","push","l","Date","now","script","document","createElement","async","src","head","appendChild","onload","clickmap","trackLinks","accurateTrackBounce","webvisor","trackHash","ecommerce","e","error","noscript","innerHTML","concat","body","script1","dataLayer","gtag","page_title","title","page_location","href","trackButtons","trackGalleryViews","trackContactForms","trackTimeOnPage","_this","addEventListener","button","target","closest","buttonText","textContent","trim","buttonClass","className","trackEvent","button_text","button_class","page_url","_this2","observer","MutationObserver","mutations","forEach","mutation","addedNodes","node","nodeType","matches","galleryName","getGalleryName","gallery_name","galleryContainer","querySelector","observe","childList","subtree","_this3","form","form_name","name","_this4","startTime","isActive","event","passive","timeOnPage","Math","round","duration","setInterval","eventName","parameters","albumId","getAttribute","imageName","image_name","contactType","contactValue","contact_type","contact_value","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","d","bind","TypeError","call","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","enumerable","configurable","writable","_invoke","asyncGeneratorStep","Promise","resolve","then","_arrayLikeToArray","Array","openModal","modalId","allModals","querySelectorAll","modal","style","display","getElementById","classList","add","overflow","scrollTop","allElements","from","filter","el","tagName","closeModal","remove","setupModals","footerElement","footerPlaceholder","allElementsWithModal","element","contains","entries","_ref","_ref2","isArray","_arrayWithHoles","next","_iterableToArrayLimit","toString","slice","constructor","test","_unsupportedIterableToArray","_nonIterableRest","linkId","link","preventDefault","closeButtons","loadFooter","_loadFooter","apply","_callee","_trySetupModals","currentPath","footerPath","response","footerHTML","placeholder","attempts","maxAttempts","_t","_context","trySetupModals","termsModal","privacyModal","rightsModal","setTimeout","pathname","fetch","ok","Error","status","statusText","text","_rightsModalInDOM$par","rightsModalInDOM","parentElement","_next","_throw","readyState","MobileMenu","burger","mobileMenu","isOpen","init","stopPropagation","toggle","links","close","innerWidth","warn","open","setAttribute","slider","slides","indicators","prevBtn","nextBtn","currentSlide","autoplayInterval","nextSlide","startAutoplay","prevSlide","indicator","index","goToSlide","stopAutoplay","slide","clearInterval","initSlider","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","CONFIG","enableLogging","enablePerformanceMetrics","enableErrorReporting","debugMode","devLog","_console","_len","args","_key","Slider","slideCount","autoplayDelay","bindEvents","updateIndicators","goToPrevSlide","goToNextSlide","nextIndex","prevIndex","Navigation","nav","navToggle","navMenu","navLinks","toggleMenu","handleNavClick","closeMenu","startsWith","targetId","substring","targetElement","scrollIntoView","behavior","block","Animations","animatedElements","applyInitialAnimations","setupIntersectionObserver","stabilizePage","ctaBlock","rect","getBoundingClientRect","top","innerHeight","bottom","animateElement","IntersectionObserver","entry","isIntersecting","root","rootMargin","threshold","unobserve","Portfolio","portfolio","Forms","forms","Performance","setupLazyLoading","preloadCriticalImages","lazyImages","imageObserver","img","dataset","rel","as","PhotoViewer","_createClass","Components","PortfolioFilter","ModernLightbox","PortfolioIntegration","ScrollAnimations","EnhancedForms","ProgressiveImageLoading","FAQAccordion","faqItems","faqDebug","item","trigger","toggleItem","handleKeydown","content","maxHeight","closeItem","otherItem","openItem","scrollHeight","triggerExists","contentExists","contentMaxHeight","ariaExpanded","TestimonialSlider","_asyncToGenerator","_defineProperties","_toPropertyKey","_typeof","toPrimitive","String","_toPrimitive","App","modules","isInitialized","_init","loadTemplatesAndInit","_loadTemplatesAndInit","_callee2","_context2","initModules","Class","description","performance","measurePerformance","analytics","message","_ref3","destroy","HomeLightbox","currentLightbox","setupPhotoLightbox","closeLightbox","_this5","photoLightbox","openLightbox","_this6","photoImg","lightboxOverlay","alt","requestAnimationFrame","closeBtn","lightboxImage","loader","setupTouchGestures","setupImageZoom","_this7","lightbox","transform","transition","background","opacity","parentNode","removeChild","_this8","touchStartY","touchStartX","isDragging","draggedElement","initialImageTransform","touches","clientY","clientX","touchY","touchX","deltaY","deltaX","abs","max","scale","translateY","touchEndY","changedTouches","touchEndX","image","startX","startY","translateX","updateTransform","delta","min","cursor","setupTouchZoom","_this9","initialDistance","updateMobileTransform","getDistance","currentDistance","deltaScale","touch1","touch2","dx","dy","sqrt","app","ChepinApp"],"sourceRoot":""}